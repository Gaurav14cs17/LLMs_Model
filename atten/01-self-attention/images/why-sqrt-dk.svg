<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <linearGradient id="badGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e17055;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d63031;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="goodGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#55efc4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00b894;stop-opacity:1" />
    </linearGradient>
    <filter id="shadowSqrt" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="700" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#fff" font-family="Georgia, serif" font-size="22" font-weight="bold">Why Divide by âˆšd_k? The Scaling Problem</text>
  
  <!-- The Problem Section -->
  <rect x="30" y="60" width="840" height="140" rx="12" fill="#161b22" stroke="#e17055" stroke-width="2"/>
  <text x="450" y="90" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="16" font-weight="bold">âŒ THE PROBLEM: Without Scaling</text>
  
  <text x="60" y="120" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="12">When we compute QÂ·K^T, the dot product grows with dimension d_k:</text>
  
  <rect x="60" y="135" width="350" height="50" rx="6" fill="#21262d"/>
  <text x="235" y="160" text-anchor="middle" fill="#fdcb6e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Variance of QÂ·K = d_k</text>
  <text x="235" y="178" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="10">(If q, k have unit variance components)</text>
  
  <rect x="450" y="135" width="400" height="50" rx="6" fill="#21262d" stroke="#e17055" stroke-width="1"/>
  <text x="650" y="155" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">d_k = 64 â†’ scores range â‰ˆ [-16, +16]</text>
  <text x="650" y="175" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">d_k = 512 â†’ scores range â‰ˆ [-45, +45]  ğŸ”¥</text>
  
  <!-- Why This Matters -->
  <rect x="30" y="220" width="400" height="220" rx="12" fill="#161b22" stroke="#e17055" stroke-width="2"/>
  <text x="230" y="250" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="14" font-weight="bold">What Happens to Softmax?</text>
  
  <!-- Small values example -->
  <rect x="60" y="270" width="340" height="70" rx="8" fill="#21262d"/>
  <text x="230" y="295" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Small scores (scaled): [1, 2, 3]</text>
  <text x="230" y="320" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="12">softmax â†’ [0.09, 0.24, 0.67]</text>
  <text x="230" y="335" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="9">âœ“ Smooth distribution, all contribute</text>
  
  <!-- Large values example -->
  <rect x="60" y="350" width="340" height="70" rx="8" fill="#21262d" stroke="#e17055" stroke-width="1"/>
  <text x="230" y="375" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Large scores (no scaling): [10, 20, 30]</text>
  <text x="230" y="400" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="12">softmax â†’ [0.00, 0.00, 1.00]</text>
  <text x="230" y="415" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="9">âŒ ONE-HOT! No gradient flows back!</text>
  
  <!-- Gradient Problem -->
  <rect x="470" y="220" width="400" height="220" rx="12" fill="#161b22" stroke="#fdcb6e" stroke-width="2"/>
  <text x="670" y="250" text-anchor="middle" fill="#fdcb6e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ’€ The Vanishing Gradient Problem</text>
  
  <text x="500" y="285" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="11">When softmax saturates:</text>
  
  <rect x="500" y="300" width="340" height="120" rx="8" fill="#21262d"/>
  <text x="670" y="325" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">â€¢ Output â‰ˆ one-hot vector</text>
  <text x="670" y="350" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">â€¢ Gradient of softmax â†’ 0</text>
  <text x="670" y="375" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">â€¢ Model can't learn from this!</text>
  <text x="670" y="400" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11">â€¢ Training becomes unstable</text>
  
  <!-- The Solution Section -->
  <rect x="30" y="460" width="840" height="100" rx="12" fill="#161b22" stroke="#55efc4" stroke-width="2"/>
  <text x="450" y="495" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="16" font-weight="bold">âœ“ THE SOLUTION: Divide by âˆšd_k</text>
  
  <rect x="60" y="510" width="380" height="40" rx="6" fill="#21262d"/>
  <text x="250" y="535" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Scaled Score = (QÂ·K^T) / âˆšd_k</text>
  
  <rect x="480" y="510" width="370" height="40" rx="6" fill="#21262d"/>
  <text x="665" y="530" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">Now variance â‰ˆ 1 regardless of d_k!</text>
  <text x="665" y="545" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="10">Softmax stays in healthy range âœ“</text>
  
  <!-- Mathematical Proof -->
  <rect x="30" y="580" width="840" height="100" rx="12" fill="#161b22" stroke="#58a6ff" stroke-width="2"/>
  <text x="450" y="610" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“ The Math (Simple Version)</text>
  
  <rect x="60" y="625" width="380" height="45" rx="6" fill="#21262d"/>
  <text x="250" y="645" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="11">If q, k have variance 1 per component:</text>
  <text x="250" y="662" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="11">Var(qÂ·k) = d_k Ã— 1 = d_k</text>
  
  <rect x="480" y="625" width="370" height="45" rx="6" fill="#21262d"/>
  <text x="665" y="645" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="11">After dividing by âˆšd_k:</text>
  <text x="665" y="662" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="11">Var(qÂ·k / âˆšd_k) = d_k / d_k = 1 âœ“</text>
</svg>

