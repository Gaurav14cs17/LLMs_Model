<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550">
  <defs>
    <linearGradient id="tokenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ee5a24;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="embedGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a29bfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6c5ce7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="qkvGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#74b9ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0984e3;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="shadow2" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="2" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="550" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="#fff" font-family="Georgia, serif" font-size="22" font-weight="bold">Self-Attention Mechanism</text>
  <text x="400" y="58" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="13">Each token attends to all tokens in the same sequence</text>
  
  <!-- Input Tokens -->
  <text x="80" y="100" text-anchor="middle" fill="#95a5a6" font-family="Arial, sans-serif" font-size="12">Input Sequence</text>
  
  <rect x="40" y="115" width="70" height="40" rx="6" fill="url(#tokenGrad)" filter="url(#shadow2)"/>
  <text x="75" y="140" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">The</text>
  
  <rect x="130" y="115" width="70" height="40" rx="6" fill="url(#tokenGrad)" filter="url(#shadow2)"/>
  <text x="165" y="140" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">cat</text>
  
  <rect x="220" y="115" width="70" height="40" rx="6" fill="url(#tokenGrad)" filter="url(#shadow2)"/>
  <text x="255" y="140" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">sat</text>
  
  <rect x="310" y="115" width="70" height="40" rx="6" fill="url(#tokenGrad)" filter="url(#shadow2)"/>
  <text x="345" y="140" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">on</text>
  
  <!-- Arrows down to embeddings -->
  <line x1="75" y1="155" x2="75" y2="185" stroke="#555" stroke-width="2"/>
  <line x1="165" y1="155" x2="165" y2="185" stroke="#555" stroke-width="2"/>
  <line x1="255" y1="155" x2="255" y2="185" stroke="#555" stroke-width="2"/>
  <line x1="345" y1="155" x2="345" y2="185" stroke="#555" stroke-width="2"/>
  
  <!-- Embeddings -->
  <text x="80" y="200" text-anchor="middle" fill="#95a5a6" font-family="Arial, sans-serif" font-size="12">Embeddings</text>
  
  <rect x="55" y="210" width="40" height="60" rx="4" fill="url(#embedGrad)" filter="url(#shadow2)"/>
  <rect x="145" y="210" width="40" height="60" rx="4" fill="url(#embedGrad)" filter="url(#shadow2)"/>
  <rect x="235" y="210" width="40" height="60" rx="4" fill="url(#embedGrad)" filter="url(#shadow2)"/>
  <rect x="325" y="210" width="40" height="60" rx="4" fill="url(#embedGrad)" filter="url(#shadow2)"/>
  
  <!-- Linear Projections Area -->
  <rect x="420" y="90" width="350" height="200" rx="10" fill="#161b22" stroke="#30363d" stroke-width="1"/>
  <text x="595" y="115" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Linear Projections</text>
  
  <!-- Q, K, V boxes -->
  <rect x="450" y="135" width="90" height="50" rx="6" fill="#238636" filter="url(#shadow2)"/>
  <text x="495" y="165" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="16" font-weight="bold">W_Q</text>
  
  <rect x="550" y="135" width="90" height="50" rx="6" fill="#8957e5" filter="url(#shadow2)"/>
  <text x="595" y="165" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="16" font-weight="bold">W_K</text>
  
  <rect x="650" y="135" width="90" height="50" rx="6" fill="#1f6feb" filter="url(#shadow2)"/>
  <text x="695" y="165" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="16" font-weight="bold">W_V</text>
  
  <!-- Q, K, V outputs -->
  <rect x="450" y="210" width="90" height="60" rx="4" fill="#238636" opacity="0.7"/>
  <text x="495" y="245" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14">Q</text>
  
  <rect x="550" y="210" width="90" height="60" rx="4" fill="#8957e5" opacity="0.7"/>
  <text x="595" y="245" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14">K</text>
  
  <rect x="650" y="210" width="90" height="60" rx="4" fill="#1f6feb" opacity="0.7"/>
  <text x="695" y="245" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14">V</text>
  
  <!-- Connection arrows -->
  <path d="M 365 240 L 420 180" stroke="#a29bfe" stroke-width="2" stroke-dasharray="5,3" fill="none"/>
  <path d="M 365 240 L 450 240" stroke="#a29bfe" stroke-width="2" stroke-dasharray="5,3" fill="none"/>
  
  <!-- Attention Matrix Section -->
  <text x="400" y="320" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Attention Score Matrix (QKáµ€)</text>
  
  <!-- Attention matrix visualization -->
  <rect x="200" y="340" width="200" height="150" rx="8" fill="#161b22" stroke="#30363d" stroke-width="1"/>
  
  <!-- Matrix labels -->
  <text x="250" y="360" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">The</text>
  <text x="300" y="360" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">cat</text>
  <text x="350" y="360" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">sat</text>
  
  <text x="220" y="390" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">The</text>
  <text x="220" y="420" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">cat</text>
  <text x="220" y="450" text-anchor="middle" fill="#7f8c8d" font-family="Arial, sans-serif" font-size="10">sat</text>
  
  <!-- Matrix cells with varying opacity for attention -->
  <rect x="235" y="375" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.3"/>
  <rect x="285" y="375" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.7"/>
  <rect x="335" y="375" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.2"/>
  
  <rect x="235" y="405" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.8"/>
  <rect x="285" y="405" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.4"/>
  <rect x="335" y="405" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.6"/>
  
  <rect x="235" y="435" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.2"/>
  <rect x="285" y="435" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.9"/>
  <rect x="335" y="435" width="30" height="25" rx="3" fill="#58a6ff" opacity="0.5"/>
  
  <!-- Key insight box -->
  <rect x="450" y="340" width="300" height="150" rx="10" fill="#21262d" stroke="#f0883e" stroke-width="2"/>
  <text x="600" y="370" text-anchor="middle" fill="#f0883e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ðŸ’¡ Key Insight</text>
  <text x="600" y="400" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="12">In self-attention, Q, K, and V</text>
  <text x="600" y="420" text-anchor="middle" fill="#c9d1d9" font-family="Arial, sans-serif" font-size="12">all come from the SAME input.</text>
  <text x="600" y="450" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">Each position can attend to</text>
  <text x="600" y="470" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">every other position including itself.</text>
  
  <!-- Legend -->
  <rect x="50" y="500" width="15" height="15" rx="2" fill="#58a6ff" opacity="0.9"/>
  <text x="75" y="512" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">High attention</text>
  
  <rect x="170" y="500" width="15" height="15" rx="2" fill="#58a6ff" opacity="0.3"/>
  <text x="195" y="512" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">Low attention</text>
</svg>

