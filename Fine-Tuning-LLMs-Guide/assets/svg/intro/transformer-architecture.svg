<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 550">
  <defs>
    <linearGradient id="encoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="decoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="attentionGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ffnGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="700" height="550" fill="#f8fafc" rx="10"/>
  
  <!-- Title -->
  <text x="350" y="35" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b" text-anchor="middle">Transformer Architecture</text>
  
  <!-- Encoder Side -->
  <rect x="50" y="60" width="260" height="470" fill="#eff6ff" stroke="#3b82f6" stroke-width="2" rx="10"/>
  <text x="180" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2563eb" text-anchor="middle">ENCODER</text>
  
  <!-- Input Embedding -->
  <rect x="80" y="110" width="200" height="40" fill="white" stroke="#64748b" stroke-width="2" rx="6"/>
  <text x="180" y="135" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">Input Embedding</text>
  
  <!-- Positional Encoding -->
  <rect x="80" y="160" width="200" height="35" fill="#e0e7ff" stroke="#6366f1" stroke-width="1" rx="6"/>
  <text x="180" y="182" font-family="Arial, sans-serif" font-size="11" fill="#4f46e5" text-anchor="middle">+ Positional Encoding</text>
  
  <!-- Multi-Head Attention -->
  <rect x="80" y="210" width="200" height="55" fill="url(#attentionGrad)" rx="8"/>
  <text x="180" y="235" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Multi-Head</text>
  <text x="180" y="252" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Self-Attention</text>
  
  <!-- Add & Norm 1 -->
  <rect x="80" y="275" width="200" height="30" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="4"/>
  <text x="180" y="295" font-family="Arial, sans-serif" font-size="10" fill="#d97706" text-anchor="middle">Add &amp; Norm</text>
  
  <!-- Feed Forward -->
  <rect x="80" y="315" width="200" height="50" fill="url(#ffnGrad)" rx="8"/>
  <text x="180" y="337" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Feed Forward</text>
  <text x="180" y="352" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Network</text>
  
  <!-- Add & Norm 2 -->
  <rect x="80" y="375" width="200" height="30" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="4"/>
  <text x="180" y="395" font-family="Arial, sans-serif" font-size="10" fill="#d97706" text-anchor="middle">Add &amp; Norm</text>
  
  <!-- Nx indicator -->
  <rect x="240" y="240" width="40" height="130" fill="none" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,3" rx="5"/>
  <text x="260" y="310" font-family="Arial, sans-serif" font-size="14" fill="#3b82f6" text-anchor="middle" font-weight="bold">Nx</text>
  
  <!-- Decoder Side -->
  <rect x="390" y="60" width="260" height="470" fill="#ecfdf5" stroke="#10b981" stroke-width="2" rx="10"/>
  <text x="520" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#059669" text-anchor="middle">DECODER</text>
  
  <!-- Output Embedding -->
  <rect x="420" y="110" width="200" height="40" fill="white" stroke="#64748b" stroke-width="2" rx="6"/>
  <text x="520" y="135" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">Output Embedding</text>
  
  <!-- Positional Encoding -->
  <rect x="420" y="160" width="200" height="35" fill="#d1fae5" stroke="#34d399" stroke-width="1" rx="6"/>
  <text x="520" y="182" font-family="Arial, sans-serif" font-size="11" fill="#059669" text-anchor="middle">+ Positional Encoding</text>
  
  <!-- Masked Multi-Head Attention -->
  <rect x="420" y="210" width="200" height="50" fill="url(#attentionGrad)" rx="8"/>
  <text x="520" y="232" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">Masked Multi-Head</text>
  <text x="520" y="248" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">Self-Attention</text>
  
  <!-- Add & Norm -->
  <rect x="420" y="268" width="200" height="25" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="4"/>
  <text x="520" y="285" font-family="Arial, sans-serif" font-size="9" fill="#d97706" text-anchor="middle">Add &amp; Norm</text>
  
  <!-- Cross Attention -->
  <rect x="420" y="300" width="200" height="50" fill="url(#attentionGrad)" rx="8"/>
  <text x="520" y="322" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">Cross Multi-Head</text>
  <text x="520" y="338" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">Attention</text>
  
  <!-- Arrow from encoder to decoder -->
  <path d="M285 320 L410 320" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <polygon points="408,315 420,320 408,325" fill="#64748b"/>
  
  <!-- Add & Norm -->
  <rect x="420" y="358" width="200" height="25" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="4"/>
  <text x="520" y="375" font-family="Arial, sans-serif" font-size="9" fill="#d97706" text-anchor="middle">Add &amp; Norm</text>
  
  <!-- Feed Forward -->
  <rect x="420" y="390" width="200" height="45" fill="url(#ffnGrad)" rx="8"/>
  <text x="520" y="418" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Feed Forward</text>
  
  <!-- Add & Norm -->
  <rect x="420" y="443" width="200" height="25" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="4"/>
  <text x="520" y="460" font-family="Arial, sans-serif" font-size="9" fill="#d97706" text-anchor="middle">Add &amp; Norm</text>
  
  <!-- Nx indicator -->
  <rect x="580" y="235" width="40" height="230" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="5,3" rx="5"/>
  <text x="600" y="355" font-family="Arial, sans-serif" font-size="14" fill="#10b981" text-anchor="middle" font-weight="bold">Nx</text>
  
  <!-- Linear + Softmax -->
  <rect x="420" y="475" width="200" height="45" fill="url(#decoderGrad)" rx="8"/>
  <text x="520" y="495" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">Linear + Softmax</text>
  <text x="520" y="510" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Output Probabilities</text>
  
  <!-- Input Labels -->
  <text x="180" y="500" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6" text-anchor="middle">Inputs</text>
  <path d="M180 505 L180 420" stroke="#3b82f6" stroke-width="2" stroke-dasharray="3,2"/>
  <polygon points="175,425 180,415 185,425" fill="#3b82f6"/>
  
  <text x="180" y="520" font-family="Arial, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">"Hello world"</text>
</svg>

