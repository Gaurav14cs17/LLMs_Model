<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400">
  <defs>
    <linearGradient id="orpoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f5af19"/>
      <stop offset="100%" style="stop-color:#f12711"/>
    </linearGradient>
  </defs>
  
  <rect width="850" height="400" fill="#0d1117"/>
  
  <text x="425" y="40" text-anchor="middle" fill="#c9d1d9" font-size="26" font-weight="bold" font-family="Arial">ORPO - Odds Ratio Preference Optimization</text>
  <text x="425" y="65" text-anchor="middle" fill="#8b949e" font-size="13" font-family="Arial">Reference-free alignment without a separate reward model</text>
  
  <!-- Problem with DPO -->
  <rect x="30" y="90" width="250" height="130" rx="12" fill="#161b22" stroke="#f85149" stroke-width="2"/>
  <text x="155" y="115" text-anchor="middle" fill="#f85149" font-size="14" font-weight="bold" font-family="Arial">âŒ DPO Limitation</text>
  <text x="50" y="145" fill="#c9d1d9" font-size="11" font-family="Arial">â€¢ Needs reference model</text>
  <text x="50" y="165" fill="#c9d1d9" font-size="11" font-family="Arial">â€¢ 2x memory overhead</text>
  <text x="50" y="185" fill="#c9d1d9" font-size="11" font-family="Arial">â€¢ Separate SFT stage first</text>
  <text x="50" y="205" fill="#c9d1d9" font-size="11" font-family="Arial">â€¢ Complex pipeline</text>
  
  <!-- Arrow -->
  <path d="M280 155 L320 155" stroke="#ffa657" stroke-width="3" fill="none"/>
  <text x="300" y="145" text-anchor="middle" fill="#ffa657" font-size="12" font-family="Arial">â†’</text>
  
  <!-- ORPO Solution -->
  <rect x="320" y="90" width="250" height="130" rx="12" fill="#161b22" stroke="url(#orpoGrad)" stroke-width="3"/>
  <text x="445" y="115" text-anchor="middle" fill="url(#orpoGrad)" font-size="14" font-weight="bold" font-family="Arial">âœ… ORPO Solution</text>
  <text x="340" y="145" fill="#7ee787" font-size="11" font-family="Arial">â€¢ No reference model needed</text>
  <text x="340" y="165" fill="#7ee787" font-size="11" font-family="Arial">â€¢ Single training stage</text>
  <text x="340" y="185" fill="#7ee787" font-size="11" font-family="Arial">â€¢ SFT + Alignment combined</text>
  <text x="340" y="205" fill="#7ee787" font-size="11" font-family="Arial">â€¢ Memory efficient</text>
  
  <!-- ORPO Formula Box -->
  <rect x="590" y="90" width="230" height="130" rx="12" fill="#21262d" stroke="#58a6ff" stroke-width="2"/>
  <text x="705" y="115" text-anchor="middle" fill="#58a6ff" font-size="14" font-weight="bold" font-family="Arial">ğŸ“ ORPO Loss</text>
  <text x="705" y="150" text-anchor="middle" fill="#c9d1d9" font-size="11" font-family="Arial">L = L_SFT + Î» Ã— L_OR</text>
  <text x="705" y="180" text-anchor="middle" fill="#8b949e" font-size="10" font-family="Arial">L_OR = Odds Ratio Loss</text>
  <text x="705" y="200" text-anchor="middle" fill="#8b949e" font-size="10" font-family="Arial">log(odds_chosen/odds_rejected)</text>
  
  <!-- Pipeline Comparison -->
  <text x="425" y="250" text-anchor="middle" fill="#c9d1d9" font-size="16" font-weight="bold" font-family="Arial">Training Pipeline Comparison</text>
  
  <!-- DPO Pipeline -->
  <text x="150" y="280" text-anchor="middle" fill="#f85149" font-size="12" font-weight="bold" font-family="Arial">DPO Pipeline</text>
  
  <rect x="50" y="295" width="80" height="35" rx="6" fill="#1f6feb"/>
  <text x="90" y="317" text-anchor="middle" fill="white" font-size="10" font-family="Arial">SFT</text>
  
  <path d="M130 312 L150 312" stroke="#58a6ff" stroke-width="2"/>
  
  <rect x="150" y="295" width="80" height="35" rx="6" fill="#8957e5"/>
  <text x="190" y="317" text-anchor="middle" fill="white" font-size="10" font-family="Arial">Ref Model</text>
  
  <path d="M230 312 L250 312" stroke="#58a6ff" stroke-width="2"/>
  
  <rect x="250" y="295" width="80" height="35" rx="6" fill="#da3633"/>
  <text x="290" y="317" text-anchor="middle" fill="white" font-size="10" font-family="Arial">DPO</text>
  
  <!-- ORPO Pipeline -->
  <text x="600" y="280" text-anchor="middle" fill="#7ee787" font-size="12" font-weight="bold" font-family="Arial">ORPO Pipeline</text>
  
  <rect x="470" y="295" width="260" height="35" rx="6" fill="url(#orpoGrad)"/>
  <text x="600" y="317" text-anchor="middle" fill="white" font-size="12" font-weight="bold" font-family="Arial">SFT + Preference (Single Stage)</text>
  
  <!-- Bottom Stats -->
  <rect x="50" y="350" width="750" height="40" rx="8" fill="#161b22" stroke="#30363d" stroke-width="1"/>
  <text x="70" y="375" fill="#7ee787" font-size="12" font-family="Arial">ğŸ“Š ORPO outperforms DPO on MT-Bench and AlpacaEval with 40% less memory</text>
  <text x="550" y="375" fill="#79c0ff" font-size="12" font-family="Arial">ğŸ”¬ Hong et al., 2024</text>
</svg>

